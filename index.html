<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Koleksi Anime Saya</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/howler/2.2.3/howler.min.js"></script>
    <style>
        /* Super Extra CSS */
        body {
            font-family: 'Roboto', 'Arial', sans-serif;
            margin: 0;
            color: #eee; /* Warna teks default lebih terang */
            background-color: transparent;
            user-select: none;
            -webkit-user-select: none;
            -moz-user-user-select: none;
            -ms-user-select: none;
            overflow-y: scroll; /* Aktifkan scrollbar jika perlu */
        }

        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-thumb {
            background-color: rgba(255, 255, 255, 0.2);
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background-color: rgba(255, 255, 255, 0.4);
        }

        #content-container {
          position: relative;
          z-index: 1;
          overflow-y: auto;
          height: 100vh;
        }

        body:not(.lihat-video) {
            animation: colorCycle 7s linear infinite; /* Animasi sedikit lebih lambat */
        }

        @keyframes colorCycle {
            0% { color: #f44336; } /* Red */
            14.28% { color: #ff9800; } /* Orange */
            28.57% { color: #ffeb3b; } /* Yellow */
            42.85% { color: #4caf50; } /* Green */
            57.14% { color: #2196f3; } /* Blue */
            71.42% { color: #9c27b0; } /* Purple */
            85.71% { color: #e91e63; } /* Pink */
            100% { color: #f44336; } /* Back to Red */
        }

        header {
            padding: 30px;
            text-align: center;
            background-color: rgba(0, 0, 0, 0.4);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.5); /* Bayangan lebih menonjol */
            transition: background-color 0.3s ease; /* Transisi halus */
        }

        header:hover {
            background-color: rgba(0, 0, 0, 0.6);
        }

        header h1 {
            font-family: 'Roboto', 'Arial', sans-serif;
            font-size: 3.5rem; /* Ukuran font lebih besar */
            margin-bottom: 1rem;
            font-weight: 700;
            text-shadow: 3px 3px 6px rgba(0, 0, 0, 0.7); /* Bayangan teks lebih kuat */
            letter-spacing: 1px; /* Sedikit spasi antar huruf */
        }

        nav ul {
            list-style: none;
            padding: 15px 0;
            margin: 0;
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
        }

        nav li {
            margin: 0.5rem 20px; /* Jarak antar link lebih besar */
        }

        nav a, nav button {
            color: #ddd;
            text-decoration: none;
            transition: color 0.3s, background-color 0.3s, transform 0.3s, box-shadow 0.3s; /* Transisi lebih lengkap */
            font-size: 1.2rem;
            cursor: pointer;
            background-color: rgba(0, 0, 0, 0.4);
            border: 1px solid rgba(255, 255, 255, 0.15); /* Border sedikit lebih tebal */
            padding: 14px 30px; /* Padding lebih besar */
            border-radius: 10px;
            box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.4);
        }

        nav a:hover, nav button:hover {
            background-color: rgba(255, 255, 255, 0.08);
            color: #fff;
            border-color: rgba(255, 255, 255, 0.25);
            transform: translateY(-2px); /* Efek sedikit naik saat hover */
            box-shadow: 3px 3px 7px rgba(0, 0, 0, 0.5);
        }

        main {
            padding: 40px; /* Padding lebih besar */
            border-radius: 12px; /* Border radius lebih besar */
            background-color: rgba(0, 0, 0, 0.4);
            box-shadow: 0 0 15px rgba(0, 0, 0, 0.5); /* Bayangan main lebih halus */
        }

        main h2 {
            font-size: 2.8rem; /* Ukuran font lebih besar */
            margin-bottom: 1.2rem;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.6); /* Bayangan teks lebih kuat */
            text-align: center;
            letter-spacing: 1px;
        }

        main p {
            font-size: 1.15rem; /* Ukuran font lebih besar */
            line-height: 1.7;
            color: #ddd;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.6); /* Bayangan teks lebih kuat */
            text-align: center;
            margin-bottom: 20px;
        }

        .product-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); /* Lebar minimal produk lebih besar */
            gap: 25px; /* Jarak antar produk lebih besar */
            padding: 30px; /* Padding lebih besar */
        }

        .product {
            margin: 0;
            box-sizing: border-box;
            padding: 20px; /* Padding lebih besar */
            border-radius: 10px;
            background-color: rgba(0, 0, 0, 0.5);
            transition: transform 0.3s, box-shadow 0.3s;
            text-align: center;
            border: 2px solid transparent;
            position: relative;
            cursor: pointer;
            box-shadow: 4px 4px 8px rgba(0, 0, 0, 0.5); /* Bayangan produk lebih kuat */
        }

        @media (max-width: 1024px) {
            .product {
                /* tetap responsif */
            }
        }

        @media (max-width: 768px) {
            .product {
                /* tetap responsif */
            }
        }

        @media (max-width: 480px) {
            /* tetap responsif */
        }

        .product:hover {
            transform: translateY(-5px);
            box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.6); /* Bayangan lebih kuat saat hover */
            border-color: rgba(255, 255, 255, 0.1); /* Border saat hover */
        }

        .product::before {
            content: '';
            position: absolute;
            top: -2px;
            right: -2px;
            bottom: -2px;
            left: -2px;
            border-radius: inherit;
            background: none;
            z-index: -1;
            border: 2px solid transparent;
        }

        .product img {
            max-width: 70%; /* Ukuran gambar sedikit lebih kecil */
            height: auto;
            border-radius: 8px;
            display: block;
            margin: 0 auto 15px; /* Margin bawah lebih besar */
            aspect-ratio: 1 / 1;
            object-fit: cover;
            box-shadow: 3px 3px 5px rgba(0, 0, 0, 0.4); /* Bayangan gambar lebih kuat */
        }

        .product h3 {
            animation: moveUpDown 2.5s ease-in-out infinite; /* Animasi sedikit lebih lambat */
            display: block;
            margin-bottom: 8px;
            text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.6); /* Bayangan teks produk lebih kuat */
            font-size: 1.3rem; /* Ukuran font lebih besar */
        }

        @keyframes moveUpDown {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        #background-video {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            z-index: -1; /* Behind everything */
            box-shadow: inset 0px 0px 70px 10px rgba(0, 0, 0, 0.8); /* Bayangan video lebih kuat */
            display: none; /* Initially hidden */
        }
          /* Style to make the video visible when playing */
        #background-video.playing {
             display: block;
        }

        .lihat-video {
            font-size: 1.1em;
            color: #ff6f61; /* Warna lihat video lebih menarik */
            text-decoration: none;
            display: block;
            margin-top: 15px;
            cursor: pointer;
            transition: color 0.3s;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.7); /* Bayangan teks lihat video lebih kuat */
            font-weight: bold; /* Teks lihat video lebih tebal */
        }

        .lihat-video:hover {
            color: #f44336;
        }

        .contact-button, .tiktok-button, .group-button, .anime-button, .donghua-button, .back-button, .apk-mod-button, #settings-button {
            display: inline-block;
            padding: 14px 30px; /* Padding lebih besar */
            background-color: rgba(0, 0, 0, 0.5);
            color: white;
            text-decoration: none;
            border-radius: 10px; /* Border radius lebih besar */
            transition: background-color 0.3s, transform 0.3s, box-shadow 0.3s;
            font-size: 1.2rem; /* Ukuran font lebih besar */
            cursor: pointer;
            margin: 0 10px 15px; /* Margin lebih besar */
            box-shadow: 3px 3px 7px rgba(0, 0, 0, 0.5); /* Bayangan lebih kuat */
            border: 1px solid rgba(255, 255, 255, 0.1); /* Border lebih halus */
        }

        .contact-button:hover, .tiktok-button:hover, .group-button:hover, .anime-button:hover, .donghua-button:hover, .back-button:hover, .apk-mod-button:hover, #settings-button:hover {
            background-color: rgba(0, 0, 0, 0.7);
            transform: translateY(-3px);
            box-shadow: 4px 4px 9px rgba(0, 0, 0, 0.6); /* Bayangan lebih kuat saat hover */
            border-color: rgba(255, 255, 255, 0.2); /* Border lebih jelas saat hover */
        }

        #main-content {
            display: block;
        }

        #anime-content, #donghua-content, #apk-mod-content {
            display: none;
            padding: 40px; /* Padding lebih besar */
            background-color: rgba(0, 0, 0, 0.5);
            border-radius: 12px; /* Border radius lebih besar */
            margin-top: 30px; /* Margin atas lebih besar */
        }

        #anime-content h2, #donghua-content h2, #apk-mod-content h2 {
            text-align: center;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.7); /* Bayangan teks lebih kuat */
            font-size: 2.5rem; /* Ukuran font lebih besar */
        }

        #settings-content {
            display: none; /* Tetap seperti ini untuk awalnya tersembunyi */
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: rgba(30, 30, 30, 0.9); /* Sedikit perubahan pada opasitas untuk tampilan yang lebih solid */
            color: #eee;
            padding: 50px; /* Sedikit lebih besar untuk ruang */
            border-radius: 20px; /* Radius sudut lebih besar */
            z-index: 1000;
            text-align: left;
            box-shadow: 0 0 40px rgba(0, 0, 0, 0.9); /* Bayangan lebih kuat dan lebih luas */
            width: 500px; /* Lebar sedikit lebih besar */
            max-width: 95%;
            overflow-y: auto; /* Aktifkan scrollbar vertikal jika konten meluap */
            max-height: 80vh; /* Atur tinggi maksimum agar tidak menutupi seluruh layar */
        }

        #settings-content h2 {
            margin-top: 0;
            margin-bottom: 35px; /* Spasi bawah lebih besar */
            text-align: center;
            color: #ddd;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.8);
            font-size: 2.8rem; /* Ukuran font lebih besar */
        }

        #settings-content #password-check {
            margin-bottom: 30px; /* Spasi bawah lebih besar */
            text-align: center;
        }

        #settings-content #password-check label {
            display: block;
            margin-bottom: 12px; /* Spasi bawah lebih besar */
            font-weight: bold;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.8);
            font-size: 1.2rem;
        }

        #settings-content #password-check input[type="password"] {
            padding: 14px; /* Padding lebih besar */
            border-radius: 10px; /* Radius lebih besar */
            border: 1px solid #555; /* Warna border sedikit lebih terang */
            background-color: #444; /* Warna background input sedikit lebih terang */
            color: #fff;
            margin-bottom: 20px; /* Spasi bawah lebih besar */
            width: 85%; /* Lebar input sedikit lebih besar */
            box-sizing: border-box;
            font-size: 1.1rem;
        }

        #settings-content #password-check button {
            padding: 12px 25px; /* Padding tombol sedikit lebih besar */
            border: none;
            border-radius: 10px; /* Radius tombol lebih besar */
            background-color: #666; /* Warna background tombol sedikit lebih terang */
            color: white;
            cursor: pointer;
            transition: background-color 0.3s;
            font-size: 1.1rem;
        }

        #settings-content #password-check button:hover {
            background-color: #888;
        }

        #settings-content #password-error {
            margin-top: 10px;
            font-size: 1rem;
        }

        #settings-content #settings-panel {
            display: none;
            margin-top: 20px; /* Berikan sedikit jarak dari pengecekan password */
        }

        #settings-content #settings-panel img {
            max-width: 120px; /* Ukuran gambar sedikit lebih besar */
            display: block;
            margin: 15px auto; /* Margin atas bawah lebih besar */
            border-radius: 10px; /* Berikan sedikit radius pada gambar */
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.5); /* Tambahkan sedikit bayangan pada gambar */
        }

        #settings-content #settings-panel label {
            display: block;
            margin-bottom: 15px;
            font-weight: bold;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.8);
            font-size: 1.1rem;
            color: #eee; /* Pastikan label tetap terlihat */
        }

        #settings-content #settings-panel select, #settings-content #settings-panel input[type="range"] {
            width: calc(100% - 30px); /* Sesuaikan lebar */
            padding: 16px; /* Padding lebih besar */
            margin-bottom: 35px; /* Spasi bawah lebih besar */
            border-radius: 12px;
            border: 2px solid #777; /* Warna border lebih terang */
            background-color: #555; /* Warna background lebih terang */
            color: #fff;
            box-sizing: border-box;
            font-size: 1.1rem;
            appearance: none;
            -webkit-appearance: none;
            background-image: url('data:image/svg+xml;utf8,<svg fill="#eee" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M7 10l5 5 5-5z"/><path d="M0 0h24v24H0z" fill="none"/></svg>');
            background-repeat: no-repeat;
            background-position-x: calc(100% - 15px); /* Sesuaikan posisi ikon */
            background-position-y: 50%;
            box-shadow: inset 2px 2px 5px rgba(0, 0, 0, 0.7);
        }

        #settings-content #settings-panel select::-ms-expand {
            display: none;
        }

        #settings-content #settings-panel select option {
            background-color: #666;
            color: #fff;
            padding: 14px;
            font-size: 1rem;
        }

        #settings-content #settings-panel input[type="range"] {
            padding: 14px 10px; /* Sesuaikan padding untuk range */
        }

        #settings-content #settings-panel button {
            padding: 18px 40px; /* Padding tombol lebih besar */
            border: none;
            border-radius: 12px;
            background-color: #555; /* Warna background tombol */
            color: white;
            cursor: pointer;
            transition: background-color 0.3s, transform 0.3s, box-shadow 0.3s;
            font-size: 1.2rem;
            display: block;
            width: fit-content; /* Sesuaikan lebar tombol */
            margin: 25px auto; /* Pusatkan tombol dan berikan margin */
            box-shadow: 3px 3px 7px rgba(0, 0, 0, 0.7);
        }

        #settings-content #settings-panel button:hover {
            background-color: rgba(255, 255, 255, 0.1);
            transform: translateY(-2px);
            box-shadow: 4px 4px 9px rgba(0, 0, 0, 0.8);
        }

        #loading-spinner {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 50px; /* Spinner lebih besar */
            height: 50px; /* Spinner lebih besar */
            border: 5px solid rgba(255, 255, 255, 0.3); /* Border spinner lebih tebal */
            border-radius: 50%;
            border-top: 5px solid white;
            animation: spin {
                0% {
                    transform: translate(-50%, -50%) rotate(0deg);
                }
                100% {
                    transform: translate(-50%, -50%) rotate(360deg);
                }
            }

            z-index: 1002;
            /* Ensure it's above everything else */
        }

        @keyframes spin {
            0% { transform: translate(-50%, -50%) rotate(0deg); }
            100% { transform: translate(-50%, -50%) rotate(360deg); }
        }

        #background-video {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            z-index: -1; /* Behind everything */
            box-shadow: inset 0px 0px 70px 10px rgba(0, 0, 0, 0.8); /* Bayangan video lebih kuat */
            display: none; /* Initially hidden */
        }
          /* Style to make the video visible when playing */
        #background-video.playing {
             display: block;
        }

        .lihat-video {
            font-size: 1.1em;
            color: #ff6f61; /* Warna lihat video lebih menarik */
            text-decoration: none;
            display: block;
            margin-top: 15px;
            cursor: pointer;
            transition: color 0.3s;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.7); /* Bayangan teks lihat video lebih kuat */
            font-weight: bold; /* Teks lihat video lebih tebal */
        }

        @keyframes touch-fade {
            to { opacity: 0; transform: translate(-50%, -50%) scale(1.8); } /* Skala akhir lebih besar */
        }
    </style>
</head>
<body>
    <div id="loading-spinner"></div>
    <div id="content-container">
        <video id="background-video" loop muted playsinline>
            <source src="https://files.catbox.moe/rktr8j.mp4" type="video/mp4">
            <source src="https://files.catbox.moe/2hf4bi.mp4" id="video-source-2" type="video/mp4">
            <source src="" id="video-source-3" type="video/mp4">
            <source src="" id="video-source-4" type="video/mp4">
            <source src="" id="video-source-5" type="video/mp4">
            <source src="" id="video-source-6" type="video/mp4">
            <source src="" id="video-source-7" type="video/mp4">
            Your browser does not support the video tag.
        </video>

        <header>
            <h1>MY ANIME COLLECTION</h1>
            <nav>
                <ul>
                    <li><a id="anime-link" class="anime-button">ANIMES</a></li>
                    <li><a id="donghua-link" class="donghua-button">DONGHUA</a></li>
                    <li><a id="apk-mod-link" class="apk-mod-button">APK MOD</a></li>
                    <li><button id="settings-button" class="settings-button">PENGATURAN</button></li>
                </ul>
            </nav>
        </header>

        <main id="main-content">
            <section>
                <h2>1ANIMEKU </h2>
                <p>
                    APA YG SEDANG ANDA CARI ADA DI SINIH
                </p>
                <a href="mailto:aracuuuputri@gmail.com?subject=Laporan%20Eror%20Website&body=Saya%20ingin%20melaporkan%20eror:%20[Sebutkan%20detail%20eror%20di%20sini]" class="contact-button">Hubungi Kami</a>
            </section>

            <section>
                <h2>Produk Kami</h2>
                <div class="product-container">
                    <div class="product">
                        <h3 class="product-click-trigger">KURUMI VERSION</h3>
                        <img src="https://files.catbox.moe/st2vui.jpg" alt="Produk 1" class="product-click-trigger" />
                        <a href="https://files.catbox.moe/ntrp8f.mp4" target="_blank" class="lihat-video">NONTON SEKARANG</a>
                    </div>

                    <div class="product">
                        <h3 class="product-click-trigger">COSPLAY RAIDENS</h3>
                        <img src="https://files.catbox.moe/cjjo29.jpg" alt="Produk 2" class="product-click-trigger" />
                        <a href="https://files.catbox.moe/a4vrke.mp4" target="_blank" class="lihat-video">NONTON SEKARANG</a>
                    </div>

                    <div class="product">
                        <h3 class="product-click-trigger">IM FURINA</h3>
                        <img src="https://files.catbox.moe/jq35rq.jpg" alt="Produk 3" class="product-click-trigger" />
                        <a href="https://files.catbox.moe/4wh7n8.mp4" target="_blank" class="lihat-video">NONTON SEKARANG</a>
                    </div>
                </div>
            </section>
        </main>

        <main id="anime-content">
            <section>
                <h2>DAFTAR ANIME</h2>
                <p>
                    Berikut adalah daftar anime yang mungkin Anda sukai:
                </p>
                <button id="back-to-main-anime" class="back-button">Kembali ke Utama</button>
            </section>

            <section>
                <h2>Anime Populer</h2>
                <div class="product-container">
                </div>
            </section>
        </main>

        <main id="donghua-content">
            <section>
                <h2>DAFTAR DONGHUA</h2>
                <p>
                    Berikut adalah daftar donghua yang mungkin Anda sukai:
                </p>
                <button id="back-to-main-donghua" class="back-button">Kembali ke Utama</button>
            </section>

            <section>
                <h2>Donghua Populer</h2>
                <div class="product-container">
                </div>
            </section>
        </main>

        <main id="apk-mod-content">
            <section>
                <h2>APK MOD</h2>
                <p>
                    Berikut adalah daftar aplikasi MOD yang mungkin Anda cari:
                </p>
                <button id="back-to-main-apk" class="back-button">Kembali ke Utama</button>
            </section>
            <section>
                <div class="product-container">
                </div>
            </section>
        </main>

        <div id="settings-content">
            <h2>Pengaturan</h2>
            <div id="password-check">
                <label for="settings-password">Masukkan Kata Sandi:</label>
                <input type="password" id="settings-password">
                <button id="submit-password">Masuk</button>
                <p id="password-error" style="color: red; display: none;">Kata sandi salah!</p>
            </div>
            <div id="settings-panel" style="display: none;">
                <img src="URL_GAMBAR_PENGATURAN_ANDA" alt="Pengaturan" style="max-width: 120px; display: block; margin: 15px auto; border-radius: 10px; box-shadow: 0 2px 5px rgba(0, 0, 0, 0.5);">
                <label for="background-video-select">Pilih Video Latar Belakang:</label>
                <select id="background-video-select">
                    <option value="https://files.catbox.moe/rktr8j.mp4">Video 1</option>
                    <option value="https://files.catbox.moe/2hf4bi.mp4">Video 2</option>
                    <option value="URL_VIDEO_3">Video 3</option>
                    <option value="URL_VIDEO_4">Video 4</option>
                    <option value="URL_VIDEO_5">Video 5</option>
                    <option value="URL_VIDEO_6">Video 6</option>
                    <option value="URL_VIDEO_7">Video 7</option>
                </select>

                <label for="background-audio-select">Pilih Audio Latar Belakang:</label>
                <select id="background-audio-select">
                    <option value="https://files.catbox.moe/rktr8j.mp4">Audio 1</option>
                    <option value="https://files.catbox.moe/o6hbbe.mp3">Audio 2</option>
                    <option value="URL_AUDIO_3">Audio 3</option>
                    <option value="URL_AUDIO_4">Audio 4</option>
                    <option value="URL_AUDIO_5">Audio 5</option>
                    <option value="URL_AUDIO_6">Audio 6</option>
                    <option value="URL_AUDIO_7">Audio 7</option>
                </select>

                <label for="audio-volume">Volume Audio:</label>
                <input type="range" id="audio-volume" min="0" max="1" step="0.1" value="1">

                <label for="text-color-select">Warna Teks:</label>
                <select id="text-color-select">
                    <option value="white">Putih</option>
                    <option value="#f0f0f0">Light Gray</option>
                    <option value="#dcdcdc">Silver</option>
                    <option value="#c0c0c0">Gray</option>
                    <option value="#a9a9a9">Dark Gray</option>
                    <option value="#696969">Dim Gray</option>
                    <option value="#fffaf0">Floral White</option>
                    <option value="#f5f5dc">Beige</option>
                    <option value="#ffe4c4">Bisque</option>
                    <option value="#ffdab9">Peachpuff</option>
                    <option value="#ffe4e1">Misty Rose</option>
                    <option value="#ffc0cb">Pink</option>
                    <option value="#dc143c">Crimson</option>
                    <option value="#b0e0e6">Powder Blue</option>
                    <option value="#add8e6">Light Blue</option>
                    <option value="#87ceeb">Sky Blue</option>
                    <option value="#6495ed">Cornflower Blue</option>
                    <option value="#4682b4">Steel Blue</option>
                    <option value="#00ffff">Cyan</option>
                    <option value="#00ced1">Dark Cyan</option>
                    <option value="#98fb98">Pale Green</option>
                    <option value="#90ee90">Light Green</option>
                    <option value="#32cd32">Lime Green</option>
                    <option value="#00ff00">Lime</option>
                    <option value="#faff72">Lemon Chiffon</select>

                <label for="product-size-select">Ukuran Produk:</label>
                <select id="product-size-select">
                    <option value="0.8">Kecil</option>
                    <option value="1">Sedang</option>
                    <option value="1.2">Besar</option>
                </select>

                <label for="animation-toggle">Animasi Teks:</label>
                <select id="animation-toggle">
                    <option value="on">Aktif</option>
                    <option value="off">Nonaktif</option>
                </select>

                <h2>Unggah Video</h2>
                <label for="new-video-link">Tautan Video (MP4):</label>
                <input type="text" id="new-video-link" placeholder="Masukkan tautan video MP4">

                <label for="new-video-thumbnail">Tautan Gambar (PNG):</label>
                <input type="text" id="new-video-thumbnail" placeholder="Masukkan tautan gambar PNG">

                <label for="new-video-title">Judul Video:</label>
                <input type="text" id="new-video-title" placeholder="Masukkan judul video">

                <button id="add-new-video">Tambahkan Video</button>

                <button id="close-settings">Tutup</button>
            </div>
        </div>
    </div>

    <script>
    document.addEventListener('DOMContentLoaded', function() {
        const video = document.getElementById('background-video');
        const videoSource = video.querySelector('source');
        const backgroundVideoSelect = document.getElementById('background-video-select');
        const backgroundAudioSelect = document.getElementById('background-audio-select');
        const audioVolumeControl = document.getElementById('audio-volume');
        const closeSettingsButton = document.getElementById('close-settings');
        const products = document.querySelectorAll('.product');
        const lihatVideoLinks = document.querySelectorAll('.lihat-video');
        let sound;
        let isPlaying = false;
        let isAudioPlayingBeforePause = false; // Tambahkan variabel untuk melacak status audio sebelum pause
        let wasAudioPlayingBeforeSettings = false; // Tambahkan variabel untuk melacak status audio sebelum membuka pengaturan
        const animeLink = document.getElementById('anime-link');
        const donghuaLink = document.getElementById('donghua-link');
        const apkModLink = document.getElementById('apk-mod-link');
        const settingsButton = document.getElementById('settings-button');
        const mainContent = document.getElementById('main-content');
        const animeContent = document.getElementById('anime-content');
        const donghuaContent = document.getElementById('donghua-content');
        const apkModContent = document.getElementById('apk-mod-content');
        const settingsContent = document.getElementById('settings-content');
        const backToMainAnimeButton = document.getElementById('back-to-main-anime');
        const backToMainDonghuaButton = document.getElementById('back-to-main-donghua');
        const backToMainApkButton = document.getElementById('back-to-main-apk');
        const loadingSpinner = document.getElementById('loading-spinner');
        const clickTriggers = document.querySelectorAll('.anime-button, .donghua-button, .apk-mod-button, #settings-button, .back-button');
        const productClickTriggers = document.querySelectorAll('.product-click-trigger');

        const textColorSelect = document.getElementById('text-color-select');
        const productSizeSelect = document.getElementById('product-size-select');
        const animationToggleSelect = document.getElementById('animation-toggle');
        const bodyElement = document.body;
        const allTextElements = document.querySelectorAll('body, h1, h2, h3, p, a, button'); // Pilih semua elemen teks yang umum
        const productElements = document.querySelectorAll('.product');

        function initAudio(audioSrc) {
            const currentVideoTime = video.currentTime; // Get current video time
            if (sound) {
                sound.stop();
                sound.unload();
            }
            sound = new Howl({
                src: [audioSrc],
                html5: true,
                loop: true,
                volume: parseFloat(audioVolumeControl.value),
                onload: function() {
                    console.log('Audio loaded:', audioSrc);
                    if (isPlaying) {
                        sound.play();
                        sound.seek(currentVideoTime); // Set audio position
                    }
                },
                onloaderror: function(id, error) {
                    console.error("Error loading audio:", id, error, audioSrc);
                },
                onplayerror: function(id, error) {
                    console.error("Error playing audio:", id, error);
                    if (Howler.ctx && Howler.ctx.state === 'suspended') {
                        Howler.ctx.resume().catch(e => console.error("Error resuming AudioContext:", e));;
                    }
                },
                onend: function() {
                    isPlaying = false;
                }
            });
        }

        function playVideoAndAudio() {
            if (!isPlaying) {
                video.classList.add('playing');
                video.play()
                    .then(() => {
                        isPlaying = true;
                        if (sound && sound.state() === 'loaded' && !sound.playing()) {
                            sound.play();
                        }
                    })
                    .catch(error => console.error("Error playing video:", error));
            } else {
                if (video.paused) {
                    video.currentTime = 0;
                    video.play().catch(error => console.error("Error playing video:", error));
                }
                if (sound && sound.state() === 'loaded' && !sound.playing() && isAudioPlayingBeforePause) {
                    sound.play();
                }
            }
        }


        function pauseVideoAndAudio() {
            video.classList.remove('playing');
            video.pause();
            if (sound && sound.playing()) {
                sound.pause();
                isAudioPlayingBeforePause = true; // Catat bahwa audio sedang diputar sebelum pause
            } else {
                isAudioPlayingBeforePause = false;
            }
            isPlaying = false;
        }

        productClickTriggers.forEach(trigger => {
            trigger.addEventListener('click', function() {
                loadingSpinner.style.display = 'block';
                setTimeout(function() {
                    const currentAudioSrc = backgroundAudioSelect.value;
                    initAudio(currentAudioSrc);
                    if (isPlaying) {
                        pauseVideoAndAudio();
                    } else {
                        playVideoAndAudio();
                    }
                    loadingSpinner.style.display = 'none';
                }, 500);
            });
        });

        lihatVideoLinks.forEach(link => {
            link.addEventListener('click', function(event) {
                event.preventDefault();
                event.stopPropagation();
                window.open(this.href, '_blank');
            });
        });

        document.addEventListener('visibilitychange', function() {
            if (!document.hidden && isPlaying) {
                playVideoAndAudio();
            } else {
                pauseVideoAndAudio();
            }
        });
        document.addEventListener('copy', function(e) { e.preventDefault(); alert('Menyalin teks tidak diizinkan.'); });
        document.addEventListener('cut', function(e) { e.preventDefault(); });
        document.addEventListener('contextmenu', function(e) { e.preventDefault(); });

        clickTriggers.forEach(trigger => {
            trigger.addEventListener('click', function(e) {
                loadingSpinner.style.display = 'block';
                setTimeout(function() {
                    mainContent.style.display = (trigger.id === 'main-content' || !trigger.id) ? 'block' : 'none';
                    animeContent.style.display = (trigger.id === 'anime-link') ? 'block' : 'none';
                    donghuaContent.style.display = (trigger.id === 'donghua-link') ? 'block' : 'none';
                    apkModContent.style.display = (trigger.id === 'apk-mod-link') ? 'block' : 'none';
                    settingsContent.style.display = (trigger.id === 'settings-button') ? 'block' : 'none';
                    loadingSpinner.style.display = 'none';
                }, 500);
            });
        });

        backToMainAnimeButton.addEventListener('click', function() {
            loadingSpinner.style.display = 'block';
            setTimeout(function() {
                animeContent.style.display = 'none';
                mainContent.style.display = 'block';
                video.pause();
                video.currentTime = 0;
                const currentAudioSrc = backgroundAudioSelect.value;
                initAudio(currentAudioSrc); // Restart audio
                playVideoAndAudio();
                loadingSpinner.style.display = 'none';
            }, 500);
        });

        backToMainDonghuaButton.addEventListener('click', function() {
            loadingSpinner.style.display = 'block';
            setTimeout(function() {
                donghuaContent.style.display = 'none';
                mainContent.style.display = 'block';
                video.pause();
                video.currentTime = 0;
                const currentAudioSrc = backgroundAudioSelect.value;
                initAudio(currentAudioSrc); // Restart audio
                playVideoAndAudio();
                loadingSpinner.style.display = 'none';
            }, 500);
        });

        backToMainApkButton.addEventListener('click', function() {
            loadingSpinner.style.display = 'block';
            setTimeout(function() {
                apkModContent.style.display = 'none';
                mainContent.style.display = 'block';
                video.pause();
                video.currentTime = 0;
                const currentAudioSrc = backgroundAudioSelect.value;
                initAudio(currentAudioSrc); // Restart audio
                playVideoAndAudio();
                loadingSpinner.style.display = 'none';
            }, 500);
        });

        settingsButton.addEventListener('click', function() {
            wasAudioPlayingBeforeSettings = isPlaying && sound && sound.playing(); // Cek status audio sebelum buka pengaturan
            mainContent.style.display = 'none';
            animeContent.style.display = 'none';
            donghuaContent.style.display = 'none';
            apkModContent.style.display = 'none';
            settingsContent.style.display = 'block';
            document.getElementById('password-check').style.display = 'block';
            document.getElementById('settings-panel').style.display = 'none';
            document.getElementById('settings-password').value = '';
            document.getElementById('password-error').style.display = 'none';
            if (sound && sound.playing()) {
                sound.pause(); // Pause audio when settings are opened
            }
        });

        const submitPasswordButton = document.getElementById('submit-password');
        const passwordInput = document.getElementById('settings-password');
        const passwordError = document.getElementById('password-error');
        const correctPassword = "12"; // Kata sandi diubah menjadi "12"

        submitPasswordButton.addEventListener('click', function() {
            const enteredPassword = passwordInput.value;
            if (enteredPassword === correctPassword) {
                document.getElementById('password-check').style.display = 'none';
                document.getElementById('settings-panel').style.display = 'block';
            } else {
                passwordError.style.display = 'block';
            }
        });

        passwordInput.addEventListener('keypress', function(event) {
            if (event.key === 'Enter') {
                submitPasswordButton.click();
            }
        });

        closeSettingsButton.addEventListener('click', function() {
            loadingSpinner.style.display = 'block';
            setTimeout(function() {
                settingsContent.style.display = 'none';
                mainContent.style.display = 'block';
                if (wasAudioPlayingBeforeSettings) {
                    const currentAudioSrc = backgroundAudioSelect.value;
                    initAudio(currentAudioSrc);
                    playVideoAndAudio();
                }
                loadingSpinner.style.display = 'none';
                wasAudioPlayingBeforeSettings = false;
            }, 500);
        });


        backgroundVideoSelect.addEventListener('change', function() {
            const selectedVideo = this.value;
            localStorage.setItem('backgroundVideo', selectedVideo);
            videoSource.src = selectedVideo;
            video.load();
            video.currentTime = 0;
            if (isPlaying) {
                video.play().catch(error => console.error("Error playing video:", error));
            }
        });

        backgroundAudioSelect.addEventListener('change', function() {
            const selectedAudio = this.value;
            localStorage.setItem('backgroundAudio', selectedAudio);
            initAudio(selectedAudio);
            if (isPlaying) {
                sound.play();
            }
        });

        audioVolumeControl.addEventListener('input', function() {
            if (sound) {
                sound.volume(parseFloat(this.value));
            }
        });

        textColorSelect.addEventListener('change', function() {
            const selectedColor = this.value;
            localStorage.setItem('textColor', selectedColor);
            allTextElements.forEach(element => {
                element.style.color = selectedColor;
            });
        }

        productSizeSelect.addEventListener('change', function() {
            const selectedSize = parseFloat(this.value);
            localStorage.setItem('productSize', selectedSize);
            productElements.forEach(element => {
                element.style.transform = `scale(${selectedSize})`;
            });
        }

        animationToggleSelect.addEventListener('change', function() {
            const animationState = this.value;
            localStorage.setItem('animationState', animationState);
            if (animationState === 'on') {
                bodyElement.style.animation = "colorCycle 7s linear infinite";
            } else {
                bodyElement.style.animation = "none";
            }
        });

        const addNewVideoButton = document.getElementById('add-new-video');
        const newVideoLinkInput = document.getElementById('new-video-link');
        const newVideoThumbnailInput = document.getElementById('new-video-thumbnail');
        const newVideoTitleInput = document.getElementById('new-video-title');
        const mainProductContainer = document.querySelector('#main-content .product-container');

        addNewVideoButton.addEventListener('click', function() {
            const videoLink = newVideoLinkInput.value;
            const thumbnailUrl = newVideoThumbnailInput.value;
            const title = newVideoTitleInput.value;

            if (videoLink && thumbnailUrl && title) {
                const videoData = {
                    link: videoLink,
                    thumbnail: thumbnailUrl,
                    title: title
                };

                fetch('/api/upload-video', { // Ganti '/api/upload-video' dengan endpoint server Anda
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(videoData)
                })
                .then(response => response.json())
                .then(data => {
                    console.log('Video berhasil diunggah:', data);
                    loadUploadedVideosFromServer();
                    newVideoLinkInput.value = '';
                    newVideoThumbnailInput.value = '';
                    newVideoTitleInput.value = '';
                })
                .catch(error => {
                    console.error('Error mengunggah video:', error);
                    alert('Terjadi kesalahan saat mengunggah video.');
                });
            } else {
                alert('Harap isi semua kolom untuk menambahkan video.');
            }
        });

        function loadUploadedVideosFromServer() {
            fetch('/api/videos') // Ganti '/api/videos' dengan endpoint server Anda untuk mendapatkan daftar video
                .then(response => response.json())
                .then(videos => {
                    console.log('Daftar video dari server:', videos);
                    displayVideos(videos);
                })
                .catch(error => {
                    console.error('Error memuat video dari server:', error);
                });
        }

        function displayVideos(videos) {
            mainProductContainer.innerHTML = '';
            videos.forEach(video => {
                const newProductDiv = document.createElement('div');
                newProductDiv.classList.add('product');

                const titleElement = document.createElement('h3');
                titleElement.classList.add('product-click-trigger');
                titleElement.textContent = video.title;

                const imageElement = document.createElement('img');
                imageElement.src = video.thumbnail;
                imageElement.alt = video.title;
                imageElement.classList.add('product-click-trigger');

                const watchLink = document.createElement('a');
                watchLink.href = video.link;
                watchLink.target = '_blank';
                watchLink.classList.add('lihat-video');
                watchLink.textContent = 'NONTON SEKARANG';

                newProductDiv.appendChild(titleElement);
                newProductDiv.appendChild(imageElement);
                newProductDiv.appendChild(watchLink);

                mainProductContainer.appendChild(newProductDiv);

                const newProductClickTriggers = newProductDiv.querySelectorAll('.product-click-trigger');
                newProductClickTriggers.forEach(trigger => {
                    trigger.addEventListener('click', function() {
                        loadingSpinner.style.display = 'block';
                        setTimeout(function() {
                            const currentAudioSrc = backgroundAudioSelect.value;
                            initAudio(currentAudioSrc);
                            if (isPlaying) {
                                pauseVideoAndAudio();
                            } else {
                                playVideoAndAudio();
                            }
                            loadingSpinner.style.display = 'none';
                        }, 500);
                    });
                });
            });
        }

        // Load pengaturan dari localStorage saat halaman dimuat
        const storedTextColor = localStorage.getItem('textColor');
        if (storedTextColor) {
            textColorSelect.value = storedTextColor;
            allTextElements.forEach(element => {
                element.style.color = storedTextColor;
            });
        }

        const storedProductSize = localStorage.getItem('productSize');
        if (storedProductSize) {
            productSizeSelect.value = storedProductSize;
            productElements.forEach(element => {
                element.style.transform = `scale(${storedProductSize})`;
            });
        }

        const storedAnimationState = localStorage.getItem('animationState');
        if (storedAnimationState) {
            animationToggleSelect.value = storedAnimationState;
            if (storedAnimationState === 'on') {
                bodyElement.style.animation = "colorCycle 7s linear infinite";
            } else {
                bodyElement.style.animation = "none";
            }
        }

        const storedBackgroundVideo = localStorage.getItem('backgroundVideo');
        if (storedBackgroundVideo) {
            backgroundVideoSelect.value = storedBackgroundVideo;
            videoSource.src = storedBackgroundVideo;
            video.load();
            video.currentTime = 0;
            if (isPlaying) {
                video.play().catch(error => console.error("Error playing video:", error));
            }
        }

        const storedBackgroundAudio = localStorage.getItem('backgroundAudio');
        if (storedBackgroundAudio) {
            backgroundAudioSelect.value = storedBackgroundAudio;
            initAudio(storedBackgroundAudio);
            if (isPlaying) {
                sound.play();
            }
        }

        loadUploadedVideosFromServer(); // Panggil fungsi untuk memuat video dari server saat halaman dimuat
        initAudio(backgroundAudioSelect.value);
    });
    </script>
</body>
</html>
